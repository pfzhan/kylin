@import './variables.less';

body {
  font-family: Helvetica Neue,Helvetica,PingFang SC,Hiragino Sans GB,Microsoft YaHei,SimSun,sans-serif;
  overflow: auto;
  font-weight: 400;
  -webkit-font-smoothing: antialiased;
  color: @text-normal-color;
  font-size: @text-base-size;
}
a {cursor: pointer;}
a:link {color:@base-color-1;text-decoration:none;}
a:-webkit-any-link {color:@base-color-1;text-decoration:none;}
a:visited {color:@base-color-1;text-decoration:none;}
a:hover {color:@base-color-2;text-decoration: underline;}
a:active {color:@base-color;text-decoration:none;}
:focus{outline: 0}

ul,li {list-style:none;}
.clear {clear: both;}
.clearfix:after {
  content: '.';
  clear: both;
  display: block;
  height: 0;
  visibility: hidden;
  font-size: 0;
  line-height: 0
}
i[class^=el-icon-]{
  cursor: pointer;
}
i[class=el-icon-question] {
  color:@text-placeholder-color;
  // font-size: 14px;
}
.el-dropdown i{
  color:@text-title-color;
}
@range: 2160deg;
@timer:3s;
.rotateY{
  -webkit-transform: rotate3d(0,1,0,@range);
  -moz-transform: rotate3d(0,1,0,@range);
  transform: rotate3d(0,1,0,@range);
  transition: -webkit-transform @timer ease-out;
  transition: -moz-transform @timer ease-out;
  transition: transform @timer ease-out;
}
.fly-box {
  position:absolute;
  width:14px;
  height:14px;
  border-radius: 50%;
  background-color:@error-color-1;
  z-index:99999;
}

//通用样式1 start
.generate-attr(@n,@attr, @attrName, @i: 1,@k:@i*2) when (@i =< @n) {
  .@{attr}-@{k} {
    @{attrName}:@i*2px!important;
  }
  .generate-attr(@n,@attr, @attrName,(@i + 1));
}

//通用样式2 start
.generate-attr2(@n,@attr, @attrName1, @attrName2, @i: 1,@k:@i*2) when (@i =< @n) {
  .@{attr}-@{k} {
    @{attrName1}:@i*2px!important;
    @{attrName2}:@i*2px!important;
  }
  .generate-attr2(@n,@attr, @attrName1, @attrName2, (@i + 1));
}
.generate-attr(20,ksd-pb,padding-bottom);
.generate-attr(20,ksd-pr,padding-right);
.generate-attr(20,ksd-pl,padding-left);
.generate-attr(20,ksd-pt,padding-top);
.generate-attr2(20,ksd-ptb,padding-top,padding-bottom);
.generate-attr2(20,ksd-prl,padding-right,padding-left);
.generate-attr(20,ksd-ml,margin-left);
.generate-attr(20,ksd-mr,margin-right);
.generate-attr(20,ksd-mt,margin-top);
.generate-attr2(20,ksd-mtb,margin-top,margin-bottom);
.generate-attr2(20,ksd-mrl,margin-right,margin-left);
.generate-attr(20,ksd-mb,margin-bottom);
.generate-attr(20,ksd-top,top);
.generate-attr(20,ksd-left,left);
.generate-attr(20,ksd-right,right);
.generate-attr(20,ksd-bottom,bottom);
.generate-attr(20,ksd-lineheight,line-height);
.generate-attr(20,ksd-fs,font-size);
.ksd-fright{float: right!important;}
.ksd-fleft{float: left!important;}
.ksd-center{text-align: center!important;}
.ksd-left{text-align: left!important;}
.ksd-right{text-align: right!important;}
.ksd-inline{display: inline-block!important;}
.ksd_noshadow{box-shadow: none!important;}


// 项目通用样式
.ky-a-like {
  &:hover {
    color:@base-color-2!important;
    cursor: pointer;
  }
}
.ky-line {
  height: 1px;
  width: 100%;
  background: @line-split-color;
}
.ky-line-full {
  &:extend(.ky-line);
  position: absolute;
  display: inline-block;
  left:0;
  right:0;
}
.ky-dashed {
  width:100%;
  height:0;
  border-bottom:@line-border-color 1px dashed;
}
.ky-cursor {
  cursor: pointer;
}
.ksd-title-label {
  font-size: 16px;
  color: @text-title-color;
  font-weight: 500;
  height: 20px;
  line-height: 20px;
}
.ky-hover:hover {
  color: @base-color;
}
.ky-success {
  color: @normal-color-1;
  cursor: initial;
}
.ky-warning {
  color: @warning-color-1;
  cursor: initial;
}
.ky-error {
  color: @error-color-1;
  cursor: initial;
}
.ky-highlight-text {
  color:@base-color;
}
.ky-move {
  cursor:move;
}
.ky-move-ing {
  opacity: 0.8;
}
.ky-resize {
  i {
    cursor:ns-resize;
  }
}
.ky-list-title {
  font-size: 16px;
  color:@text-title-color;
  font-weight: @font-medium;
}
.ky-list-sub-title  {
  margin-top: 20px;
  margin-bottom: 10px;
  color:@text-title-color;
}
.ksd-switch {
  transform: scale(0.64);
}
  table.ksd-table{
    border-top:solid 1px @line-border-color;
    border-left:solid 1px @line-border-color;
    border-collapse:collapse;
    tr:nth-child(odd){
      background: @table-stripe-color;
    }
    tr.ksd-tr:hover>td {
      background-color: inherit;
    }
    tr,th{
      color: @text-title-color;
      font-size: 14px;
      border-right: 1px solid @line-border-color;
      padding: 0 10px;
    }
    width: 100%;
    tr{
      height: 46px;
    }
    th{
      // padding: 10px;
      text-align: right;
      width: 150px;
      font-weight: normal;
      border-bottom: none;
      background-color: inherit;
      line-height: 21px;
      border-bottom:solid 1px @line-border-color;
    }
    td{
      border-bottom:solid 1px @line-border-color;
      border-right:solid 1px @line-border-color;
      padding: 0 10px;
      line-height: 21px;
    }
  }

// 组件特殊覆盖代码
.el-popover.filter-popover {
  min-width: 50px;
}
.el-date-range-picker .popper__arrow {
  display: none;
}
.el-alert.pure{
  background-color: @fff;
  padding:0;
  .el-alert__content {
    color:@text-title-color;
    line-height: 21px;
  }
}
.ksd-dialog-sub-title{
  color:@text-title-color;
  font-size: 14px;
}
// 带图标警告、成功、失败提示语样式覆盖

.el-tabs__nav {
  margin-left: 20px;
}

.el-card {
  border-radius: 0;
  box-shadow: none;
  .el-card__header {
    background: @grey-3;
    color: @text-title-color;
    font-size: 16px;
    height: 42px;
    line-height: 42px;
    padding: 0 20px;
  }
  .el-card__body {
    padding: 0;
  }
}

// layout
.ksd_left_bar{
  width: 250px;
  display: inline-block;
  border-top: solid 1px transparent;
  height: 100%;
}
.ksd-extend-tips {
  color: rgb(144, 149, 171);
}
.unselectable {user-select:none;}
.ksd-question-circle{
  color:@line-border-color;
  cursor: pointer;
}
.ksd-block-a {
  display: block;
  width: 100%;
  height: 100%;
  text-decoration: none;
  color:@text-normal-color!important;
  &:hover{
    color:@base-color-2!important;
    text-decoration: none;
  }
}
.ksd-null-pic-text {
   margin-top: 220px;
   width: 100%;
   text-align: center;
   img{
    height: 80px;
   }
   p{
     color:@text-title-color;
     margin-top:10px;
     margin-bottom: 30px;
   }
}
.ksd-nobr-text{
  text-overflow:ellipsis!important; 
  overflow:hidden!important; 
  word-break:keep-all!important;
  white-space:nowrap!important;
  cursor:pointer;
}
// 首位没有关闭按钮的tab
.studio-top-tab {
  &>.el-tabs--card {
    &>.el-tabs__header{
      margin-bottom: 0;
    }
    &>.el-tabs__content{
      width: 100%;
    }
    .el-tabs__item {
      height: 32px;
      line-height: 32px;
    }
  }
}
.el-tabs--card {
  .el-tabs__item {
    &.is-closable:hover{
      padding-left: 20px;
    }
    height: 32px;
    line-height: 32px;
    padding-left: 20px;
  }
}
.studio-top-tab{
  &.all-close{
    .el-tabs__nav div:nth-child(1) .el-icon-close{
      visibility:visible;
      display: inline;
    }
  }
}
.el-tooltip__popper{max-width:40%;word-wrap:break-word;}
// 通用样式end
#nprogress div.bar{background-color: #58b7ff;}

// 由于kap对form表单的input默认size通用small，就是32px的高度，这里统一设置line-height为32px
.el-form-item__content,
.el-form-item__label {
  line-height: 32px;
}

.fullLayout{
  .left-menu{
    display: none;
  }
  #scrollBox{
    left:0;
    top:0;
  }
  .model_panel .model_edit_tool{
    left: 0;
  }
  .topbar{
    display: none;
  }
  .model_panel .model_edit_tool.smallScreen{
    left: 0;
  }
  #modeltab>.el-tabs--card>.el-tabs__header{
    display: none;
  }
  #breadcrumb_box{
    display: none;
  }
  .btn_group{
    bottom:152px;
  }
}
// panel toggle 动画
.bounceright-enter-active {
  transform-origin:100% 0;
  animation: bounce-in .1s;
}
.bounceright-leave-active {
  transform-origin:100% 0;
  animation: bounce-in .1s reverse;
}

.bouncecenter-enter-active {
  transform-origin:50% 50%;
  animation: bounce-in .1s;
}
.bouncecenter-leave-active {
  transform-origin:50% 50%;
  animation: bounce-in .1s reverse;
}

.bounceleft-enter-active {
  transform-origin:0 0;
  animation: bounce-in .1s;
}
.bounceleft-leave-active {
  transform-origin:0 0;
  animation: bounce-in .1s reverse;
}
@keyframes bounce-in {
  0% {
    transform: scale(0) translateX(70px);
  }
  20% {
    transform: scale(0.2) translateX(60px);
  }
  40% {
    transform: scale(0.4) translateX(40px);
  }
  60% {
    transform: scale(0.6) translateX(20px);
  }
  80% {
    transform: scale(0.8) translateX(10px);
  }
  100% {
    transform: scale(1) translateX(0);
  }
}
// 13新样式  蓝黑风格皮肤覆盖样式
.kapApp {
  // 编辑器皮肤覆盖
  .ace_print-margin {
    display: none;
  }
  .ace_editor.ace_autocomplete {
    overflow-x: auto;
  }
  
  .ace_editor.ace_autocomplete .ace_line-hover {
    background-color: #7881aa;
  }
  .ace-chrome{
    // background: #393e53!important;
    border: 1px solid @aceditor-border-color;
    border-radius: 5px;
    .ace_print-margin {
      display: none;
    }
    .ace_gutter{
      background: @line-split-color;
      color: @text-title-color;
    }
    .ace_marker-layer .ace_active-line{
      background-color: @line-border-color;
    }
    // .ace_gutter{
    //   background: #3e425b!important;
    // }
    // .ace_constant.ace_numeric,.ace_string, .ace_support.ace_function{
    //   color: #fff!important;
    // }
    // .ace_support.ace_function {
    //   color: blue!important;
    // }
    // .ace_support.ace_function {
    //   color: orange!important;
    // }
    .ace_gutter-cell{
      // background: #393e53;
      // color: rgba(255,255,255,0.6);
      // padding-right: 30px;
    }
    .ace_content{
      background: @aceditor-bg-color;
      // background: #222;
      // color: rgba(255,255,255,0.6);
      // font-weight:bolder;
    }
    // .ace_cursor{
    //   color: #fff!important;
    // }
    // .ace_storage,  .ace_keyword, .ace_meta.ace_tag {
    //   color:#3cd3ec!important;
    // }
    // color: @fff!important;
  }
  // .ace_gutter-layer{
  //   background: #444863;
  // }
  // 编辑器校验sql业务级别样式
  .hasCheck{
    .ace_gutter-cell{
      cursor: pointer;
    }
    .ace_gutter-cell{
      &:before {
        font-family: element-icons!important;
        content:"\E63E";
        // text-align: center;
        // font-weight: bolder;
        cursor: pointer;
        font-size: 12px;
        position: absolute;
        left: 4px;
        color:green;
        // border-radius: 50%;
        // border: solid 1px @normal-color-1;
        // line-height: 12px;
        // width: 10px;
        // height: 10px;
        // line-height: 8px;
        margin-top: 2px;
        cursor: pointer;
      }
      &:hover{
        &:before{
          content:"\E62D";
        }
      }
    }
    .ace_gutter-cell.ace_breakpoint{
      &:before{
        content:"\E609";
        color:red;
      }
      &:hover{
        &:before{
          content:"\E62C";
        }
      }
      // display: block;
      // border: solid 1px @error-color-1;
    }
    .ace_gutter-cell.ace_breakpoint.active {
      // background-color: rgba(0,0,0, 0.3);
      // border-radius: 6px;
    }
    .ace_gutter-cell:hover:before{
     // background-color: rgba(0,0,0, 0.5);
    }
  }

  .ksd-sql-suggest-box{
    border-radius: 4px;
    background-color: @aceditor-bg-color;
    border:solid 1px @text-secondary-color;
    margin-top:20px;
    padding: 10px 10px;
    max-height: 200px;
    overflow-y: auto;
    font-size: 12px;
    color:@text-title-color;
    h3{
      margin-bottom:10px;
      // margin-top: 10px;
      color:@error-color-1;
      font-size: 12px;
    }
    p{
      margin-bottom: 10px;
    }
  }
  .ksd-inline{
    color: @fff;
  }
  .tree_list{
    background: @bg-total;
  }
}
// 分割线(grey)
.line{
  height: 1px;
  background: @line-border-color;
  margin: 15px 0 15px 0;
}
// 分割线(深色)
.line-primary{
  height: 1px;
  background: #1e1f2a;
  margin: 15px 0 15px 0;
}
.margin-l-r{
  margin-left: -30px;
  margin-right: -30px;
}

.kap_popover{
  svg{
    color: rgba(255,255,255,0.6);
  }
}

// cloud 内嵌页面专用css
.cloud-frame-page{
  .el-breadcrumb{
    display: none;
  }
  .left-menu{
    display: none;
  }
  #scrollBox{
    left:0;
    top:0;
  }
  .model_panel .model_edit_tool{
    left: 0;
  }
  .topbar{
    display: none;
  }
  .model_panel .model_edit_tool.smallScreen{
    left: 0;
  }
  #modeltab>.el-tabs--card>.el-tabs__header{
    display: none;
  }
  #breadcrumb_box{
    display: none;
  }
  .btn_group{
    bottom:152px;
  }
}

.table-layout {
  width: 100%;
  height: 100%;
}

.layout-left {
  width: 250px;
  float: left;
  border-right: solid 1px #cfd8dc;
  box-sizing: border-box;
  height: 100%;
}

.layout-right {
  padding: 20px 20px 0 20px;
  margin-left: 250px;
  overflow: auto;
  max-height: calc(~'100vh - 134px');
}

.font-medium {
  font-weight: 500;
}

.font-regular {
  font-weight: 300;
}

.el-button--small.is-circle {
  padding: 7px;
  font-size: 16px;
}
