<!--
* Licensed to the Apache Software Foundation (ASF) under one
* or more contributor license agreements.  See the NOTICE file
* distributed with this work for additional information
* regarding copyright ownership.  The ASF licenses this file
* to you under the Apache License, Version 2.0 (the
* "License"); you may not use this file except in compliance
* with the License.  You may obtain a copy of the License at
*
*     http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
-->

<div ng-controller="CubeAdvanceSettingCtrl" class="clearfix">
  <ng-form name="forms.cube_setting_form" >
    <div style="width:{{state.mode!='view'?75:100}}%;float:left;padding-right:10px">
      <div class="form-group">
        <h3 style="margin-left:42px;">{{dataKylin.cube.aggregationGroups}} </h3>
        <div style="margin-left:22px;">
          <div class="box-body">
            <div class="col-xs-12">
              {{dataKylin.cube.tip_visit}} <a href="http://kylin.apache.org/blog/2016/02/18/new-aggregation-group" target="_blank">{{dataKylin.cube.aggregationGroups}}</a> {{dataKylin.cube.tip_about_aggregation_group}}
              <div class="pull-right">Cuboid Number:<span style="color:#3c8dbc">{{cuboidCount}}</span></div>
            </div>
          </div>
        </div>
        <table style="margin-left:42px; width:92%"
               ng-if="cubeMetaFrame.aggregation_groups.length > 0"
               class="table table-hover list">
          <tr class="row">
            <th class="col-xs-1">{{dataKylin.cubeASID}}</th>
            <th class="col-xs-11">{{dataKylin.cubeASAggregationGroups}}</th>
            <th ng-if="state.mode=='edit'" class="col-xs-1"></th>
          </tr>

          <tr ng-repeat="aggregation_group in cubeMetaFrame.aggregation_groups track by $index" ng-init="rowIndex = $index" class="row">
            <td class="col-xs-1">
              <!-- ID -->
              <b>{{($index + 1)}}</b>
            </td>
            <td class="col-xs-11">
              <table class="table">
                <tr class="row">
                  <td class="col-xs-3" style="min-width:130px;">
                    {{dataKylin.cube.cubeASIncludes}}
                  </td>
                  <td class="col-xs-8">
                    <!-- Dimensions -->
                    <ui-select
                      autofocus="true"
                      close-on-select="false"    ng-disabled="instance.status=='READY'"
                      on-select="refreshAggregationGroup(cubeMetaFrame.aggregation_groups, rowIndex, aggregation_group);showColumnInfo(aggregation_group.includes.length-1,aggregation_group.includes)"
                      on-remove="refreshAggregationGroup(cubeMetaFrame.aggregation_groups, rowIndex, aggregation_group)"
                      ng-click="showColumnInfo($selectMultiple.activeMatchIndex,aggregation_group.includes)"
                      ng-if="state.mode=='edit'" style="width: 100%" multiple ng-model="aggregation_group.includes">
                     <ui-select-match placeholder="{{dataKylin.cube.plac_cubeAS}}">{{$item.column}}</ui-select-match>
                      <ui-select-choices
                      repeat="rowkey_column.column as rowkey_column in cubeMetaFrame.rowkey.rowkey_columns | filter:$select.search|filterArr:seletedInclues:'column'">
                    {{rowkey_column.column}}
                      </ui-select-choices>
                    </ui-select>

                    <p ng-if="state.mode=='view'">
                      {{aggregation_group.includes}}</p>
                  </td>
                  <td class="col-xs-1">
                  </td>
                </tr>
                <tr class="row">
                  <td class="col-xs-3">
                    {{dataKylin.cube.cubeASMandatoryDimensions}}
                  </td>
                  <td class="col-xs-8">
                    <ui-select
                      close-on-select="false"
                      autofocus="true"    ng-disabled="instance.status=='READY'"
                      on-select="refreshAggregationGroup(cubeMetaFrame.aggregation_groups, rowIndex, aggregation_group);showColumnInfo(aggregation_group.select_rule.mandatory_dims.length-1,aggregation_group.select_rule.mandatory_dims)"
                      on-remove="refreshAggregationGroup(cubeMetaFrame.aggregation_groups, rowIndex, aggregation_group)"
                      ng-click="showColumnInfo($selectMultiple.activeMatchIndex,aggregation_group.select_rule.mandatory_dims)"
                      ng-if="state.mode=='edit'" style="width: 100%" multiple ng-model="aggregation_group.select_rule.mandatory_dims">
                      <ui-select-match placeholder="{{dataKylin.cube.plac_cubeAS}}">{{$item}}</ui-select-match>
                      <ui-select-choices
                        repeat="column in aggregation_group.includes | filter:$select.search|filterArr:seletedColumns">
                        {{column}}
                      </ui-select-choices>
                    </ui-select>

                    <p ng-if="state.mode=='view'">
                      {{aggregation_group.select_rule.mandatory_dims}}</p>
                  </td>
                  <td class="col-xs-1">
                  </td>
                </tr>


                <tr class="row">
                  <td class="col-xs-3">
                    {{dataKylin.cube.cubeASHierarchyDimensions}}
                  </td>
                  <td class="col-xs-9">
                    <table class="table">
                      <tr class="row" ng-repeat="hierarchyDims in aggregation_group.select_rule.hierarchy_dims ">
                        <td class="col-xs-10" style="border-top:none">
                          <ui-select
                            close-on-select="false"
                            autofocus="true"    ng-disabled="instance.status=='READY'"
                            on-select="refreshAggregationHierarchy(cubeMetaFrame.aggregation_groups, rowIndex, aggregation_group,$index,hierarchyDims);showColumnInfo(hierarchyDims.length-1,hierarchyDims)"
                            on-remove="refreshAggregationHierarchy(cubeMetaFrame.aggregation_groups, rowIndex, aggregation_group,$index,hierarchyDims)"
                            ng-click="showColumnInfo($selectMultiple.activeMatchIndex,hierarchyDims)"
                            ng-if="state.mode=='edit'" style="width: 100%" multiple ng-model="hierarchyDims">
                            <ui-select-match placeholder="{{dataKylin.cube.plac_cubeAS}}">{{$item}}</ui-select-match>
                            <ui-select-choices
                              repeat="column in aggregation_group.includes | filter:$select.search|filterArr:seletedColumns">
                              {{column}}
                            </ui-select-choices>
                          </ui-select>
                          <p ng-if="state.mode=='view'">
                            {{hierarchyDims}}</p>

                        </td>
                        <td class="col-xs-2" style="border-top:none">
                          <button class="btn btn-sm btn-info"  ng-disabled="instance.status=='READY'"
                                  ng-click="removeHierarchy(aggregation_group,hierarchyDims)"
                                  ng-show="state.mode=='edit'"><i class="fa fa-minus"></i>
                          </button>
                        </td>
                      </tr>

                      <tr class="row">
                        <td class="col-xs-12" style="border-top:none">
                          <button class="btn btn-sm btn-info"    ng-disabled="instance.status=='READY'"
                                  ng-click="addNewHierarchy(aggregation_group)" ng-show="state.mode=='edit'">{{dataKylin.cube.cubeASNewHierarchy}}<i class="fa fa-plus"></i>
                          </button>
                        </td>
                      </tr>
                    </table>

                  </td>
                </tr>


                <tr class="row">
                  <td class="col-xs-3">
                    {{dataKylin.cube.cubeASJointDimensions}}
                  </td>
                  <td class="col-xs-9">
                    <table class="table">
                      <tr class="row" ng-repeat="jointDims in aggregation_group.select_rule.joint_dims ">
                        <td class="col-xs-10" style="border-top:none">
                          <!-- Dimensions -->
                          <ui-select
                            close-on-select="false"
                            autofocus="true"   ng-disabled="instance.status=='READY'"
                            on-select="refreshAggregationJoint(cubeMetaFrame.aggregation_groups, rowIndex, aggregation_group,$index,jointDims)"
                            on-remove="refreshAggregationJoint(cubeMetaFrame.aggregation_groups, rowIndex, aggregation_group,$index,jointDims)"
                            ng-if="state.mode=='edit'" style="width: 100%" multiple ng-model="jointDims">
                            <ui-select-match placeholder="{{dataKylin.cube.plac_cubeAS}}">{{$item}}</ui-select-match>
                            <ui-select-choices
                              repeat="column in aggregation_group.includes | filter:$select.search|filterArr:seletedColumns">
                              {{column}}
                            </ui-select-choices>
                          </ui-select>
                          <p ng-if="state.mode=='view'">
                            {{jointDims}}</p>
                        </td>
                        <td class="col-xs-2" style="border-top:none">
                          <button class="btn btn-sm btn-info"   ng-disabled="instance.status=='READY'"
                                  ng-click="removeJointDims(aggregation_group,jointDims)"
                                  ng-show="state.mode=='edit'"><i class="fa fa-minus"></i>
                          </button>
                        </td>
                      </tr>

                      <tr class="row">
                        <td class="col-xs-12" style="border-top:none">
                          <button class="btn btn-sm btn-info"   ng-disabled="instance.status=='READY'"
                                  ng-click="addNewJoint(aggregation_group)" ng-show="state.mode=='edit'">{{dataKylin.cube.cubeASNewJoint}}<i class="fa fa-plus"></i>
                          </button>
                        </td>
                      </tr>
                    </table>

                  </td>
                </tr>
              </table>

            </td>
            <td ng-if="state.mode=='edit'" class="col-xs-1">
              <button class="btn btn-xs btn-info"   ng-disabled="instance.status=='READY'"
                      ng-click="removeElement(cubeMetaFrame.aggregation_groups, aggregation_group)"><i
                class="fa fa-minus"></i>
              </button>
            </td>
          </tr>
        </table>

        <button class="btn btn-sm btn-info" style="margin-left:42px" ng-click="addNewAggregationGroup()"   ng-disabled="instance.status=='READY'"
                ng-show="state.mode=='edit'">{{dataKylin.cube.cubeASNewAggregationGroup}}<i class="fa fa-plus"></i>
        </button>


      </div>


      <div class="form-group large-popover">
        <h3 style="margin-left:42px">{{dataKylin.cube.cubeASRowkeys}}  <i kylinpopover placement="right" ng-title="{{dataKylin.cube.tip_title_cubeASRowkeys.name}}" ng-watch="{{dataKylin.cube.tip_title_cubeASRowkeys.watch}}" template="rowkeyTip.html" class="fa fa-info-circle"></i></h3>
        <table style="margin-left:42px; width:92%;position:relative" id="resizeRowkeys"
               ng-if="cubeMetaFrame.rowkey.rowkey_columns.length > 0"
               class="table table-hover table-bordered list"
          >
          <thead>
            <tr>
              <th width="90px">{{dataKylin.cube.cubeASID}}</th>
              <th>{{dataKylin.cube.cubeASColumn}}</th>
              <th>{{dataKylin.cube.cubeASEncoding}}</th>
              <th>{{dataKylin.cube.cubeASLength}}</th>
              <th>{{dataKylin.cube.cubeASShardBy}}</th>
              <th>{{dataKylin.cube.cubeASDatatype}}</th>
              <th>{{dataKylin.cube.cubeASCardinality}}</th>
              <th width="90px" ng-if="state.mode=='edit'"></th>
            </tr>
          </thead>
          <!--   state.mode=='edit'-->
          <tbody  ng-if="state.mode=='edit'" ui-sortable="{update:resortRowkey()}" ng-model="convertedRowkeys">

            <tr ng-repeat="rowkey_column in convertedRowkeys track by $index"
                class="sort-item" >

              <td>
                <!-- ID -->
                <span class="ng-binding" class="badge">{{($index + 1)}}</span>
              </td>
              <td>
                <!--Column Name -->
                <input type="text" class="form-control" placeholder="{{dataKylin.cube.tip_Column_Name}}"
                     ng-change="refreshRowKey(convertedRowkeys,$index,rowkey_column)"   ng-disabled="instance.status=='READY'"
                     tooltip="{{dataKylin.cube.tip_rowkey_column_name}}" tooltip-trigger="focus"
                     ng-model="rowkey_column.column" class="form-control">
              </td>
              <td>
                <div  style="width:100%;" class="chosen-container chosen-container-single ">
                  <button style="width:100%;" type="button" class="chosen-single dropdown-toggle" data-toggle="dropdown">
                    <span style="float:left;" >{{rowkey_column.encodingName}}</span>
                  </button>
                  <ul class="dropdown-menu my-dropdown" role="menu"  style="width:100%;" >
                    <li>
                      <a middle-popover ng-repeat="encoding in getEncodings(rowkey_column.column)" ng-click="rowkey_column.encoding=encoding.value;rowkey_column.encodingName=encoding.name;"
                         kylinpopover placement="right" ng-title="{{(encoding.value=='dict[v1]'||encoding.value=='fixed_length[v1]'||encoding.value=='int[v1]'||encoding.value=='integer[v1]'||encoding.value=='integer[v2]'||encoding.value=='fixed_length_hex[v1]'||encoding.value=='date[v1]'||encoding.value=='time[v1]')?encoding.name:''}}" ng-value="{{encoding.value}}" ng-watch="{{dataKylin.cube.tip_encoding}}" template="encodingTip.html">
                        {{encoding.name}}
                      </a>
                    </li>
                  </ul>
                </div>
              </td>
              <td>
                <!--Column Length -->
                <input type="text" class="form-control" placeholder="Column Length.." middle-popover
                     ng-disabled="rowkey_column.encoding.indexOf('dict')>=0||rowkey_column.encoding.indexOf('date')>=0||rowkey_column.encoding.indexOf('time')>=0||instance.status=='READY'"
                     ng-change="refreshRowKey(convertedRowkeys,$index,rowkey_column);"
                     ng-model="rowkey_column.valueLength" class="form-control"  placement="top" ng-name="{{rowkey_column.encoding}}"  ng-value="{{rowkey_column.valueLength}}" ng-watch="{{dataKylin.cube.tip_length}}" template="lengthTip.html"
                       kylinpopover  ng-title="{{(rowkey_column.encoding=='fixed_length[v1]'||rowkey_column.encoding=='integer[v2]'||rowkey_column.value=='fixed_length_hex[v1]')?rowkey_column.encodingName:''}}" >

                <small class="help-block red" ng-show=" rowkey_column.encoding=='int[v2]' && (rowkey_column.valueLength>8 || rowkey_column.valueLength<1)">int encoding column length should between 1 and 8</small>
              </td>

              <td>
                <select  style="width:180px;"
                      chosen ng-model="rowkey_column.isShardBy"  ng-disabled="instance.status=='READY'"
                      tooltip="{{dataKylin.cube.tip_false_by_default}}"
                      data-placeholder="false by default"
                      ng-change="refreshRowKey(convertedRowkeys,$index,rowkey_column,true)"
                      ng-options="dt as dt for dt in cubeConfig.rowKeyShardOptions">
                  <option value=""></option>
                </select>
                <small class="help-block red" ng-show="rule.shardColumnAvailable==false && rowkey_column.isShardBy == true">at most one 'shard by' column is allowed.</small>
              </td>
              <td>
                <span>{{TableModel.tableColumnMap[rowkey_column.table][rowkey_column.database+"."+rowkey_column.column].datatype}}</span>
              </td>
              <td>
                <span>{{TableModel.tableColumnMap[rowkey_column.table][rowkey_column.database+"."+rowkey_column.column].cardinality}}</span>
              </td>
              <td >
                <button class="btn btn-xs btn-info"  ng-disabled="instance.status=='READY'"
                      ng-click="removeRowkey(convertedRowkeys, $index,rowkey_column)"><i
                  class="fa fa-minus"></i>
                </button>
              </td>
            </tr>
          </tbody>
          <!--   state.mode=='view'-->
          <tbody ng-if="state.mode=='view'"  ng-model="convertedRowkeys">
            <tr ng-repeat="rowkey_column in convertedRowkeys track by $index">
              <td>
                <!-- ID -->
                <span class="ng-binding" >{{($index + 1)}}</span>
              </td>
              <td>
                <!--Column Name -->
                <span >{{rowkey_column.column}}</span>
              </td>
              <td>
                <span >{{rowkey_column.encoding|encodingVersionShow}}</span>
              </td>
              <td>
                <!--Column Length -->
                <span >{{rowkey_column.valueLength}}</span>
              </td>
              <td>
                <span >{{rowkey_column.isShardBy}}</span>
              </td>
              <td>
                <span>{{TableModel.tableColumnMap[rowkey_column.table][rowkey_column.database+"."+rowkey_column.column].datatype}}</span>
              </td>
              <td>
                <span>{{TableModel.tableColumnMap[rowkey_column.table][rowkey_column.database+"."+rowkey_column.column].cardinality}}</span>
              </td>
            </tr>
          </tbody>

        </table>

        <button class="btn btn-sm btn-info" style="margin-left:42px"  ng-disabled="instance.status=='READY'"
                ng-click="addNewRowkeyColumn()" ng-show="state.mode=='edit'">{{dataKylin.cube.cubeASNewRowkeyColumn}}<i class="fa fa-plus"></i>
        </button>
      </div>

      <div class="form-group large-popover" >
        <h3 style="margin-left:42px">{{dataKylin.cube.cubeASAdvancedDictionaries}} <i kylinpopover placement="right" ng-title="{{dataKylin.cube.cubeASAdvancedDictionaries}}" template="AdvancedDictionariesTip.html" class="fa fa-info-circle"></i></h3>
        <div style="margin-left:42px">
          <div class="box-body">
            <br/>
            <table class="table table-striped table-hover">
              <thead>
              <tr>
                <th>{{dataKylin.cube.cubeASColumn}}</th>
                <th>{{dataKylin.cube.cubeASBuilderClass}}</th>
                <th>{{dataKylin.cube.cubeASReuse}}</th>
                <th ng-if="state.mode=='edit'">{{dataKylin.cube.cubeASActions}}</th>
              </tr>
              </thead>
              <tbody>
              <tr ng-repeat="dictionaries in cubeMetaFrame.dictionaries | filter: state.measureFilter track by $index">
                <td>
                  <!--Column -->
                  <span>{{dictionaries.column}}</span>
                </td>
                <td>
                  <!--Builder-->
                  <span>{{dictionaries.builder}}</span>
                </td>
                <td>
                  <!--Reuse-->
                  <span>{{dictionaries.reuse}}</span>
                </td>
                <td ng-if="state.mode=='edit'">
                  <!--Edit Button -->
                  <button class="btn btn-xs btn-info" ng-click="addNewDictionaries(dictionaries, $index)" ng-disabled="instance.status=='READY'">
                    <i class="fa fa-pencil"></i>
                  </button>
                  <!--Remove Button -->
                  <button class="btn btn-xs  btn-danger" ng-click="removeDictionaries(cubeMetaFrame.dictionaries, dictionaries)" ng-disabled="instance.status=='READY'">
                    <i class="fa fa-trash-o"></i>
                  </button>
                </td>
              </tr>
              </tbody>
            </table>

          </div>
        </div>
      </div>
      <!--Add Dictionaries Button-->

      <div class="form-group" style="margin-left:42px;">
        <button class="btn btn-sm btn-info" ng-click="addNewDictionaries()" ng-show="state.mode=='edit' && !addNew" ng-disabled="instance.status=='READY'">
          {{dataKylin.cube.cubeASDictionaries}}<i class="fa fa-plus"></i>
        </button>
      </div>
      <!--Edit Dictionsry-->
      <ng-form name="edit_mes_form" style="margin-left:42px;">
        <div class="box box-solid"  ng-if="addNew" style="margin-left:42px;">
          <div class="box-header">
            <h4 class="box-title text-info">{{dataKylin.cube.cubeASEditDictionaries}}</h4>
          </div>
          <div class="box-body">
            <div class="row">
              <div class="col-xs-8">
                <!--Column-->
                <div class="form-group middle-popover">
                  <div class="row">
                    <label class="col-xs-12 col-sm-3 control-label no-padding-right font-color-default"><b>{{dataKylin.cube.cubeASColumn}}</b></label>
                    <div class="col-xs-12 col-sm-6">
                      <select class="form-control" chosen
                              ng-model="newDictionaries.column"
                              ng-change="measureReturnTypeUpdate();"
                              ng-options="column as column for column in getFactColumns()" required>
                        <option value="">{{dataKylin.cube.cubeASSelectColumn}}</option>
                      </select>
                    </div>
                  </div>
                </div>
                <div class="form-group">
                  <div class="row" style="margin-left:5px;">
                    <label class="radio-inline ng-binding ng-scope">
                      <input type="radio" name="reuse" ng-value=false ng-model="isReuse"  ng-change="change()"/><b>{{dataKylin.cube.cubeASBuilderClass}}</b>
                    </label>
                    <label class="radio-inline ng-binding ng-scope">
                      <input type="radio" name="reuse"  ng-value=true ng-model="isReuse" ng-change="change()"/><b>{{dataKylin.cube.cubeASReuse}}</b>
                    </label>
                  </div>
                </div>
                <!--Builder-->
                <div class="form-group" ng-if="!isReuse" >
                  <div class="row">
                    <label class="col-xs-12 col-sm-3 control-label no-padding-right font-color-default"><b>{{dataKylin.cube.cubeASBuilderClass}}</b></label>
                    <div cgitlass="col-xs-12 col-sm-6">
                      <select class="form-control" chosen
                              ng-model="newDictionaries.builder"
                              ng-options="item.value as item.name for item in cubeConfig.buildDictionaries"
                              required>
                        <option value="">{{dataKylin.cube.selectBuildClass}}</option>
                      </select>
                    </div>
                  </div>
                </div>
                <!--Reuse-->
                <div class="form-group middle-popover" ng-if="isReuse" >
                  <div class="row">
                    <label class="col-xs-12 col-sm-3 control-label no-padding-right font-color-default"><b>{{dataKylin.cube.cubeASReuse}}</b></label>
                    <div class="col-xs-12 col-sm-6">
                      <select class="form-control" chosen
                              ng-model="newDictionaries.reuse"
                              ng-change="measureReturnTypeUpdate();"
                              ng-options="column as column for column in getFactColumns()" required>
                        <option value="">{{dataKylin.cube.cubeASSelectColumn}}</option>
                      </select>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="box-footer">
            <button class="btn btn-success btn-info" ng-disabled="edit_mes_form.$invalid"
                    ng-click="saveNewDictionaries()" ng-show="state.mode=='edit'">{{dataKylin.cube.cubeASOK}}</button>
            <button class="btn btn-default" ng-click="clearNewDictionaries()">{{dataKylin.cube.cubeASCancel}}</button>
          </div>
        </div>
      </ng-form>

    </div>
    <div style="" id="advancedSettingInfoBox" ng-if="state.mode!='view'">
      <span class="bigtitle">{{columnName}}</span><span> {{dataKylin.data_source.statistics}}</span>
      <table class="table table-hover table-bordered table-striped list">
        <tr>
          <td style="width:130px">{{dataKylin.data_source.cardinality}}</td>
          <td>{{ specialData[0].cardinality }}</td>
        </tr>
        <tr>
          <td>{{dataKylin.data_source.maxValue}}</td>
          <td>{{ specialData[0].max_value }}</td>
        </tr>
        <tr>
          <td>{{dataKylin.data_source.minValue}}</td>
          <td>{{ specialData[0].min_value }}</td>
        </tr>
        <tr>
          <td>{{dataKylin.data_source.maxLengthValue}}</td>
          <td>{{ specialData[0].max_length_value }}</td>
        </tr>
        <tr>
          <td>{{dataKylin.data_source.minLengthValue}}</td>
          <td>{{ specialData[0].min_length_value }}</td>
        </tr>
        <tr>
          <td>{{dataKylin.data_source.nullCount}}</td>
          <td>{{ specialData[0].null_count }}</td>
        </tr>
      </table>
      <span class="bigtitle" ng-if="columnList&&columnList.length">{{tableName}}</span><span ng-if="columnList&&columnList.length"> {{dataKylin.data_source.sampleData}}</span>
      <div style="overflow-y: auto" ng-if="columnList&&columnList.length">
        <table class="table table-hover table-bordered table-striped list">
          <thead>
          <tr >
            <th>Row</th>
            <th ng-repeat="column in columnList " id="{{column.name}}">{{column.name}}</th>
          </tr>
          </thead>
          <tr ng-repeat="list in sampleData track by $index">
            <td>{{$index+1}}</td>
            <td ng-repeat="sd in sampleData[$index] track by $index">
              {{sd}}
            </td>
          </tr>
        </table>
      </div>
    </div>
  </ng-form>
</div>
<script type="text/ng-template" id="rowkeyTip.html">
<div ng-bind-html="dataKylin.cube.tip_body_cubeASRowkeys">
</div>
</script>
<script type="text/ng-template" id="AdvancedDictionariesTip.html">
  <div>
    {{dataKylin.cube.tip_dictionaries}}
  </div>
</script>
<script type="text/ng-template" id="encodingTip.html" >
  <div >
    <div ng-if="value=='dict[v1]'">
      {{dataKylin.cube.tip_encoding_dict}}
    </div>
    <div ng-if="value=='fixed_length[v1]'">
      {{dataKylin.cube.tip_encoding_fixed_length}}
    </div>
    <div ng-if="value=='int[v1]'">
      {{dataKylin.cube.tip_encoding_int}}
    </div>
    <div ng-if="value=='integer[v1]'">
      {{dataKylin.cube.tip_encoding_integer_v1}}
    </div>
    <div ng-if="value=='integer[v2]'">
      {{dataKylin.cube.tip_encoding_integer_v2}}
    </div>
    <div ng-if="value=='fixed_length_hex[v1]'">
      {{dataKylin.cube.tip_encoding_fixed_length_hex}}
    </div>
    <div ng-if="value=='date[v1]'">
      {{dataKylin.cube.tip_encoding_date}}
    </div>
    <div ng-if="value=='time[v1]'">
      {{dataKylin.cube.tip_encoding_time}}
    </div>
  </div>
</script>
<script type="text/ng-template" id="lengthTip.html">
  <div >
    <div ng-if="name=='fixed_length[v1]'">
      {{dataKylin.cube.tip_length_fixed_length_part_one}}
      {{value}}
      {{dataKylin.cube.tip_length_fixed_length_part_two}}
    </div>
    <div ng-if="name=='integer[v2]'">
      {{dataKylin.cube.tip_length_integer_v2}}
      [{{-Math.pow(2,(8*value-1))}},{{Math.pow(2,(8*value-1))}}]
    </div>
    <div ng-if="name=='fixed_length_hex[v1]'">
      {{dataKylin.cube.tip_length_fixed_length_hex_part_one}}
      {{value*2}}
      {{dataKylin.cube.tip_length_fixed_length_hex_part_two}}
    </div>
  </div>
</script>
